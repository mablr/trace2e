syntax = "proto3";

package trace2e;

import "messages.proto";

// Single service that handles all middleware operations
service Trace2eGrpc {
    // Process to Middleware operations
    rpc P2MLocalEnroll(LocalCt) returns (Ack);
    rpc P2MRemoteEnroll(RemoteCt) returns (Ack);
    rpc P2MIoRequest(IoInfo) returns (Grant);
    rpc P2MIoReport(IoResult) returns (Ack);

    // Middleware to Middleware operations
    rpc M2MDestinationCompliance(GetDestinationCompliance) returns (DestinationCompliance);
    rpc M2MSourceCompliance(GetSourceCompliance) returns (SourceCompliance);
    rpc M2MUpdateProvenance(UpdateProvenance) returns (Ack);
}
